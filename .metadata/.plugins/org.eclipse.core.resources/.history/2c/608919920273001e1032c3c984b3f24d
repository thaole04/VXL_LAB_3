/*
 * processing.c
 *
 *  Created on: Oct 18, 2023
 *      Author: thao2
 */


#include "processing.h"
#include "button.h"
#include "control_leds_segment.h"



int timeRed = 0;
int timeAmber = 0;
int timeGreen = 0;

enum {
	LEDREDX_LEDGREENY,
	LEDREDX_LEDAMBERY,
	LEDREDY_LEDGREENX,
	LEDREDY_LEDAMBERX
} status = LEDREDX_LEDGREENY;
void normalMode(){

}

void fsm(){
	switch(mode){
	case MODE_1:
		normalMode();
		break;
	case MODE_2:
		mode = MODE_3;
		HAL_GPIO_TogglePin(LED_AMBER_X_GPIO_Port, LED_AMBER_X_Pin);
		break;
	case MODE_3:
		mode = MODE_4;
		HAL_GPIO_TogglePin(LED_GREEN_X_GPIO_Port, LED_GREEN_X_Pin);
		break;
	case MODE_4:
		mode = MODE_1;
		HAL_GPIO_TogglePin(LED_GREEN_X_GPIO_Port, LED_GREEN_X_Pin);
		break;
	default:
		mode = MODE_1;
		break;
	}
}
